<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>创建第一个地图</title>
  <style>
    /* 初始化界面，让地图充满这个窗口 */
    html {
      height: 100%;
    }

    body {
      height: 100%;
      margin: 0px;
      padding: 0px;
    }

    #container {
      height: 100%;
    }
  </style>
  <!-- 记得填写你的AK密匙 -->
  <script type="text/javascript" src="https://api.map.baidu.com/api?v=1.0&type=webgl&ak=你的密匙"></script>
</head>

<body>
  <!-- 设置容器 -->
  <div id="container"></div>

  <script>
    // 地图的初始配置
    // Map:在指定的容器内创建地图实例，之后需要调用Map.centerAndZoom()方法对地图进行初始化。未进行初始化的地图将不能进行任何操作
    const map = new BMapGL.Map("container")
    // Point:表示地理坐标点，先经度后维度
    const point = new BMapGL.Point(116.404, 39.915)
    // 初始化地图，设置中心点坐标和地图级别
    map.centerAndZoom(point, 15)
    // 开启滚轮缩放，默认禁止
    map.enableScrollWheelZoom(true)
    // 设置地图旋转角度
    map.setHeading(64.5)
    // 设置地图的倾斜角度
    map.setTilt(30)
    // 设置地图类型，可选值参考文档
    map.setMapType(BMAP_NORMAL_MAP)


    // 1.添加标注点
    const markPoint = new BMapGL.Point(116.404, 39.915)
    const marker = new BMapGL.Marker(markPoint) // 创建标注  
    map.addOverlay(marker)    // 将标注添加到地图中
    // JSAPI支持监听覆盖物的事件
    marker.addEventListener('click', function () {
      alert('你点击了图标')
    })
    // 2.添加折线
    const polyline = new BMapGL.Polyline([
      new BMapGL.Point(116.399, 39.910),
      new BMapGL.Point(116.405, 39.920),
      new BMapGL.Point(116.425, 39.900)
    ], { strokeColor: "blue", strokeWeight: 2, strokeOpacity: 1 });
    map.addOverlay(polyline);
    // 3.添加多边形
    const polygon = new BMapGL.Polygon([
      new BMapGL.Point(116.387112, 39.920977),
      new BMapGL.Point(116.385243, 39.913063),
      new BMapGL.Point(116.394226, 39.917988),
      new BMapGL.Point(116.401772, 39.921364),
      new BMapGL.Point(116.41248, 39.927893)
    ], { strokeColor: 'blue', strokeWeight: 2, strokeOpacity: 1 })
    map.addOverlay(polygon)


  </script>

</body>

</html>